<!DOCTYPE html>

<html>
  <head>
    <title>Example - SelectingText</title>
    <link href="etc/main.css" rel="stylesheet">
  </head>
  <body>
    <div id="wrapper">
      <input type="text" id="selected-text">
      <div id="container">
        <p>Lorem ipsum dolor sit amet, ea tantas primis propriae sed, doctus accommodare in nec, per te purto omnis vituperatoribus. Ad malorum gloriatur duo. Nisl scripserit usu et, doming interpretaris ea nam. Partiendo instructior pri in, quo verear reprehendunt no, vim iracundia sadipscing an. Facilisi persecuti mei ne. Eripuit consetetur neglegentur mea ut, platonem imperdiet nec id.</p>
        <p>Copiosae facilisis at eam, voluptaria omittantur vim an. Mei efficiendi omittantur eu, duo eu nobis mucius, sententiae scribentur in nam. Ornatus vivendo nam et. Alia facilisi oportere quo no.</p>
        <p>Mei eleifend gubergren consetetur at, ea mea nonumes consequuntur. Mea at velit detracto, usu persius efficiantur no. Gubergren mnesarchum mea ex. Quidam option civibus ei sea.</p>
      </div>
    </div>
    <script>
      (function(e,t){"use strict";var n=t.selection;var o=t.getSelection;var r=o||n;var a=function(e,t,n){n?e.on("mouseup",t):e.addEventListener("mouseup",t,false)};var i=function(e,r,i){var u=function(e){e.preventDefault();var a=o?t.getSelection():n.createRange().text;r(a)};a(e,u,i)};e.SelectingText=function(t,n){if(!r){return}var o=e.jQuery&&t instanceof e.jQuery||e.Zepto&&t instanceof e.Zepto;i(t,n,o)}})(window,document);
    </script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {

        var $ = function(value) {
          return document.getElementById(value);
        };

        window.SelectingText($('container'), function(selector) {
          $('selected-text').value = selector;
        });

      }, false);
    </script>
  </body>
</html>