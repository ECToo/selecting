(function(e,t){"use strict";var n=t.selection;var o=t.getSelection;var r=o||n;var c=function(e){var t=Object.prototype.toString.call(e);return typeof e==="object"&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(t)&&e.hasOwnProperty("length")&&(e.length===0||typeof e[0]==="object"&&e[0].nodeType>0)};function u(e,t){var n;return function(){var o=this,r=arguments;var c=function(){n=null;e.apply(o,r)};clearTimeout(n);n=setTimeout(c,t)}}var i=function(e,t,n){debugger;if(n){e.on("mouseup",u(t,150));return}var o=function(e){e.addEventListener("mouseup",u(t,150),false)};if(!c(e)){o(e);return}[].forEach.call(e,function(e){o(e)})};var a=function(e,r,c){var u=function(e){e.preventDefault();var c=o?t.getSelection():n.createRange().text;r(c)};i(e,u,c)};e.SelectingText=function(t,n){if(!r){return}var o=e.jQuery&&t instanceof e.jQuery||e.Zepto&&t instanceof e.Zepto;a(t,n,o)}})(window,document);