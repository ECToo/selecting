(function(t,e){"use strict";var n=e.selection;var o=e.getSelection;var r=o||n;var c=function(t){var e=Object.prototype.toString.call(t);return typeof t==="object"&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(e)&&t.hasOwnProperty("length")&&(t.length===0||typeof t[0]==="object"&&t[0].nodeType>0)};function i(t,e){var n;return function(){var o=this,r=arguments;var c=function(){n=null;t.apply(o,r)};clearTimeout(n);n=setTimeout(c,e)}}var u=function(t,e,n){if(n){t.on("mouseup",i(e,200));return}var o=function(t){t.addEventListener("mouseup",i(e,200),false)};if(!c(t)){o(t);return}[].forEach.call(t,function(t){o(t)})};var a=function(t,r,c){var i=function(t){t.preventDefault();var c=o?e.getSelection():n.createRange().text;r(c)};u(t,i,c)};t.SelectingText=function(e,n){if(!r){return}var o=t.jQuery&&e instanceof t.jQuery||t.Zepto&&e instanceof t.Zepto;a(e,n,o)}})(window,document);