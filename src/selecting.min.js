(function(t,e){"use strict";var n=e.selection;var o=e.getSelection;var r=o||n;var c=function(t){var e=Object.prototype.toString.call(t);return typeof t==="object"&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(e)&&t.hasOwnProperty("length")&&(t.length===0||typeof t[0]==="object"&&t[0].nodeType>0)};var a=function(t,e){var n;return function(){var o=this,r=arguments;var c=function(){n=null;t.apply(o,r)};clearTimeout(n);n=setTimeout(c,e)}};var i=function(t,e,n){if(n){t.on("mouseup",a(e,150));return}var o=function(t){t.addEventListener("mouseup",a(e,150),false)};if(!c(t)){o(t);return}[].forEach.call(t,function(t){o(t)})};var u=function(t,r,c){var a=function(t){t.preventDefault();var c=o?e.getSelection():n.createRange().text;r(c)};i(t,a,c)};t.selecting=function(e,n){if(!r){return}var o=t.jQuery&&e instanceof t.jQuery||t.Zepto&&e instanceof t.Zepto;u(e,n,o)}})(window,document);